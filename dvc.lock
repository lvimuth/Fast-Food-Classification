schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 44a502dcdef8c40c46fc109f3a93b1f0
      size: 839
    - path: src/cnnClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 6c691b1ae32873f78545d9b6eabf4109
      size: 1174
    outs:
    - path: artifacts/data_ingestion/Fast Food Classification V2
      hash: md5
      md5: 06146c6138deaf72d01c3d3f0f96b8e0.dir
      size: 857839018
      nfiles: 40000
  prepare_base_model:
    cmd: python src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 44a502dcdef8c40c46fc109f3a93b1f0
      size: 839
    - path: src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 6bbf3487b63a0935e888cfb10ffe5c5c
      size: 1001
    params:
      params.yaml:
        CLASSES: 10
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 7785b2d7c508dc6102e7bcdf0ba0c7f3.dir
      size: 118867734
      nfiles: 2
  training:
    cmd: python src/cnnClassifier/pipeline/stage_03_training.py
    deps:
    - path: artifacts/data_ingestion/Fast Food Classification V2
      hash: md5
      md5: 06146c6138deaf72d01c3d3f0f96b8e0.dir
      size: 857839018
      nfiles: 40000
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 7785b2d7c508dc6102e7bcdf0ba0c7f3.dir
      size: 118867734
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 44a502dcdef8c40c46fc109f3a93b1f0
      size: 839
    - path: src/cnnClassifier/components/prepare_callbacks.py
      hash: md5
      md5: df047e424075dcab9aec144951712130
      size: 1006
    - path: src/cnnClassifier/pipeline/stage_03_training.py
      hash: md5
      md5: 78b8a0a43892edbfbe6509f19af9abd0
      size: 1263
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 1
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.keras
      hash: md5
      md5: 3874a1d4b6b225f4c28744cb58e2843b
      size: 59939726
  evaluation:
    cmd: python src/cnnClassifier/pipeline/stage_04_evaluation.py
    deps:
    - path: artifacts/data_ingestion/Fast Food Classification V2
      hash: md5
      md5: 06146c6138deaf72d01c3d3f0f96b8e0.dir
      size: 857839018
      nfiles: 40000
    - path: artifacts/training/model.keras
      hash: md5
      md5: 3874a1d4b6b225f4c28744cb58e2843b
      size: 59939726
    - path: config/config.yaml
      hash: md5
      md5: 44a502dcdef8c40c46fc109f3a93b1f0
      size: 839
    - path: src/cnnClassifier/pipeline/stage_04_evaluation.py
      hash: md5
      md5: 4bcec0b8c1a8e9c928ba5f6d40d38446
      size: 867
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: c5a6e194f6864e195b1a5ad7b9342704
      size: 59
